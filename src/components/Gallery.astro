---
const { images, baseAlt = "Imagen" } = Astro.props;
---
<section class="mt-12">
  <h2 class="text-2xl font-semibold dark:text-white mb-4">Galería</h2>
  <dialog id="imgModal" class="z-50 rounded-lg p-0 border-none bg-transparent backdrop:bg-black/80">
    <img id="modalImg" src="" alt="" class="max-w-[90vw] max-h-[80vh] rounded-xl shadow-xl border-4 border-white" />
    <form method="dialog">
      <button class="absolute top-6 right-8 text-white text-2xl bg-transparent border-none cursor-pointer" title="Cerrar">×</button>
    </form>
  </dialog>
  <div class="grid gap-4 sm:grid-cols-2">
    {images.map((src, i) => (
      <figure
        class="rounded-lg overflow-hidden border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 cursor-pointer hover:shadow-lg"
        tabindex="0"
        role="button"
        aria-label="Ampliar imagen"
        onclick={`document.getElementById('imgModal').showModal(); document.getElementById('modalImg').src='${src}'; document.getElementById('modalImg').alt='${baseAlt} ${i + 1}';`}
      >
        <img
          src={src}
          alt={`${baseAlt} ${i + 1}`}
          class="w-full h-full object-cover"
          loading="lazy"
          decoding="async"
        />
      </figure>
    ))}
  </div>
</section>